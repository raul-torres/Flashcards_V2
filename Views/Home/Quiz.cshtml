@model List<Deck>

@* TECHNOLOGIES USED BY VIEW *@
<link rel="stylesheet" href="~/css/Quiz.css">

@* PAGE NAVBAR *@
<nav class="navbar navbar-expand-lg navbar-light bg-light varela">
    <a class="main out nav-link" href="/home">
      <img src="~/img/whiteLogo.png" alt="" class="logo">
    </a>
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="out nav-link" href="/newdeck">New Deck</a>
      </li>
      <li class="nav-item">
        <a class="out nav-link" href="/alldecks">My Decks</a>
      </li>
      <li class="nav-item">
        <a class="active nav-link" href="/quiz">Quiz</a>
      </li>
      <li class="nav-item active">
        <a class="out nav-link" href="/everysingledeck">Other Decks</a>
      </li>
    </ul>
    <a href="/logout" class="text-right out">Sign Out</a>
</nav>

@* PAGE HEADING *@
<div class="varela">
    <br>
    <h1 class="display-3 text-center">Choose a Deck</h1>
    <hr class="smallhr">
</div>

<br>

@* SHOWING ALL DECKS CREATED BY USER OR FAVORITE BY USER *@
@{
    foreach(Deck D in Model)
    {
        bool isFav = false;
        foreach(var y in D.FavoriteBy)
        {
            if(y.UserId == ViewBag.User)
            {
                isFav = true;
            }
            if(isFav == true)
            {
                <br>
                <br>
                <div class="row varela">
                    <div class="col-md-3"></div>
                    <div class="col-md-9">
                    <a href="/usedeck/@D.DeckId" class="box">
                        <div class="rec">
                            <p class="name">@D.DeckName</p>
                            &nbsp;&nbsp;&nbsp;
                            <p class="creator">By, @D.Creator.FirstName @D.Creator.LastName</p>
                            <span class="float-right count">@D.Flashcards.Count Cards</span>
                            @{
                            bool Fav = false;
                            foreach(var z in D.FavoriteBy)
                            {
                                if(z.UserId == ViewBag.CurrentUser)
                                {
                                    Fav = true;
                                }
                            }
                            if(Fav == true)
                            {
                                <img src="~/img/star.png" alt="Star" class="star">
                            }
                            }
                            @if(@D.Description == null)
                            {
                            <p class="desc">No Description Avaliable</p>
                            }
                            <p class="desc">@D.Description</p>
                        </div>
                    </a> 
                    </div>
                </div>
            }
        }
        if(D.UserId == ViewBag.User)
        {
            <br>
            <br>
            <div class="row varela">
                <div class="col-md-3"></div>
                <div class="col-md-9">
                <a href="/usedeck/@D.DeckId" class="box">
                    <div class="rec">
                        <p class="name">@D.DeckName</p>
                        &nbsp;&nbsp;&nbsp;
                        <p class="creator">By, @D.Creator.FirstName @D.Creator.LastName</p>
                        <span class="float-right count">@D.Flashcards.Count Cards</span>
                        @if(@D.Description == null)
                        {
                        <p class="desc">No Description Avaliable</p>
                        }
                        <p class="desc">@D.Description</p>
                    </div>
                </a> 
                </div>
            </div>
        }
    }
}
